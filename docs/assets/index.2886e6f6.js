const I=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function d(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(t){if(t.ep)return;t.ep=!0;const o=d(t);fetch(t.href,o)}};I();var U="/image-cropper/assets/beerhead.a943f72e.jpg";window.onload=L=>{const a=document.querySelector("#filename"),d=document.querySelector("#area"),r=document.querySelector("#canvas"),t=document.querySelector("#crop"),o=document.querySelector("#download"),l=r.getContext("2d"),m=R();let b=k();const s={};let p=null,h=!1;d.addEventListener("pointerdown",E),window.addEventListener("pointermove",S),window.addEventListener("pointerup",C),t.addEventListener("click",q),o.addEventListener("click",O);function E(e){s.x=e.clientX,s.y=e.clientY,h=!0}function S(e){if(!h)return;const n=d.getBoundingClientRect(),i=Math.floor(Math.min(Math.max(s.x,e.clientX),n.right)-n.x),c=Math.floor(Math.min(Math.max(s.y,e.clientY),n.bottom)-n.y),u=Math.floor(Math.max(Math.min(s.x,e.clientX),n.left)-n.x),f=Math.floor(Math.max(Math.min(s.y,e.clientY),n.top)-n.y),g=i-u,y=c-f,w=u,x=f,v=Math.floor(n.width)/r.width,M=Math.floor(n.height)/r.height;p={x:w/v,y:x/M,w:g/v,h:y/M},m.style.cssText=`
      transform: translate(${w}px, ${x}px);
      width: ${g}px;
      height: ${y}px;
    `}function C(e){h=!1}function q(){const{x:e,y:n,w:i,h:c}=p;r.width=i,r.height=c;const u=[e,n,i,c],f=[0,0,i,c];l.drawImage(b,...u,...f),m.removeAttribute("style")}function O(){r.toBlob(e=>{var c;const n=URL.createObjectURL(e),i=document.createElement("a");i.href=n,i.download=(c=a.textContent.trim())!=null?c:"crop.jpg",i.click(),URL.revokeObjectURL(n)})}function R(){const e=document.createElement("div");return e.id="draw-area",d.append(e),e}function k(){const e=new Image;return e.src=U,e.onload=n=>{r.height=e.naturalHeight,r.width=e.naturalWidth,l.drawImage(e,0,0),a.textContent=e.src.split("/").pop(),a.contentEditable="true"},e}};
